<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>2019 Resume</title>

    <link rel="stylesheet" type="text/css" href="assets/css/global.css" />

  </head>
  <body>
      <header>
        <nav>
          <a id="site-logo" href="#">
            <h1>Janelle <span>Zuccarini</span></h1>
          </a>
          <ul id="site-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#">Skills</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </nav>

        <main>
          <div id="main">
            <div id="articleContainer"></div>
              <p class="words">
                <span class="words-effect"></span>
                <br>
              </p>
          </div>
        </main>

        <footer id="footer">
          <div class="info">
            <p class="email">&#9993;: janellezucc@gmail.com</p>
            <p class="phone">&#128222;:407.797.4378</p>
          </div>
          <div class="bio">
            <p class="p-bio">My name is <span>Janelle Zuccarini</span> and I am a Front-end Developer based in Orlando, FL.</p>
          </div>
        </footer>
      </header>
      <script>
          const query = `{
            getObjects(
              bucket_slug: "resume-2019",
              input: {
                read_key: "e3fcD5BfSvobZCUFqpZZ8feOdrbYt6BHq9qpFs4Wixyx4HhcU8",
                type: "posts"
              }
            )
            {
              _id
              type_slug
              slug
              title
              content
              metadata
              created_at
            }
          }`;
    
          async function fetchPosts() {
            const response = await fetch('https://graphql.cosmicjs.com/v1', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify({
                query: query
              })
            });
            const json = await response.json();
            return json.data.getObjects;
          };
    
          const articleContainer = document.getElementById('articleContainer');
          const allPostsFragment = document.createDocumentFragment();
          const fetchData = fetchPosts().then(function(result) {
            result.map(post => {
              const articleTitle = document.createElement('h2');
                    articleTitle.textContent = post.title;
                    allPostsFragment.appendChild(articleTitle);
            });
    
            articleContainer.appendChild(allPostsFragment);
          }).catch(function(error) {
              alert(error);
          });
        </script>
  </body>
</html>



